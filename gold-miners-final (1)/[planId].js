import { useRouter } from 'next/router'
import { depositOptions } from '../../lib/constants'
import { basicPlanPayout, standardPlanDaily } from '../../lib/constants'
import Link from 'next/link'
import React from 'react'
export default function PlanDetail(){ const router = useRouter(); const { planId } = router.query; const defaultAmt = 100; const [selected, setSelected] = React.useState(defaultAmt); if(!planId) return null; const compute = () => { if(planId === 'basic') return { value: basicPlanPayout(selected), note: 'Payout after 7 days' }; if(planId === 'standard') return { value: standardPlanDaily(selected), note: 'Daily earning' }; return { value: 0, note: '' }; } const { value, note } = compute(); return (<div><h2 className="text-2xl font-bold mb-4">{planId === 'basic' ? 'Basic Plan' : 'Standard Plan'}</h2><div className="bg-white p-4 rounded shadow grid md:grid-cols-2 gap-4"><div><img src={planId === 'basic' ? 'https://images.unsplash.com/photo-1559526324-593bc073d938?auto=format&fit=crop&w=1200&q=60' : 'https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=1200&q=60'} className="w-full h-48 object-cover rounded" alt="" /></div><div><label className="block mb-2 font-semibold">Choose investment amount</label><select value={selected} onChange={(e)=>setSelected(Number(e.target.value))} className="w-full p-2 border rounded mb-4">{depositOptions.map(a=> <option key={a} value={a}>R{a.toLocaleString()}</option>)}</select><div className="bg-amber-50 p-3 rounded"><p className="font-semibold">{note}</p><p className="text-lg mt-2">{planId === 'basic' ? `R${value.toLocaleString()}` : `R${value.toLocaleString()} per day`}</p></div><div className="mt-4 flex gap-3"><Link href="/deposit"><a className="px-4 py-2 bg-amber-700 text-white rounded">Deposit to Invest</a></Link><Link href="/investments"><a className="px-4 py-2 border rounded">View Investment List</a></Link></div></div></div></div>) }
